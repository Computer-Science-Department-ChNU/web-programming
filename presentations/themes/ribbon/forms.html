<!DOCTYPE html>
<html lang="uk">
<head>
    <title>Forms and form fields</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
    <link rel="stylesheet" href="styles/styles.css">
    <style>
        .shower {
            --slide-ratio: calc(16 / 9);
        }
    </style>
</head>
<body class="shower list">

<header class="caption">
    <h1>Forms and form fields</h1>
</header>

<section class="slide">
    <h2>Форми та поля форм</h2>
    <ol>
        <li>Форми були придумані, як спосіб передачі інформації, введеної користувачем, через HTTP.
            Вони були розроблені до появи JavaScript, з тим розрахунком, що взаємодія із сервером відбувається під час
            переходу на іншу сторінку
        </li>
        <li>Але їхні елементи є частинами DOM, як і інші частини сторінки, а елементи DOM, що представляють поля форми,
            підтримують кілька властивостей і подій, яких немає в інших елементів. Це уможливлює переглядати та керувати
            полями введення з програм JavaScript і додавати функціональності до класичних форм або використовувати форми
            та поля як основу для побудови програми.
        </li>
    </ol>
</section>

<section class="slide">
    <h2>HTTP</h2>
    <figure>
        <blockquote>
            <p>Мрія, заради якої створювалася Мережа, – це спільний інформаційний простір, в якому ми спілкуємося,
                ділячись інформацією. Його універсальність є його невід'ємною частиною: посилання в гіпертексті може
                вести куди завгодно, чи то персональна, локальна чи глобальна інформація, чернетка чи вивірений
                текст.</p>
        </blockquote>
        <figcaption>Тімоті Джон Бе́рнерс-Лі</figcaption>
    </figure>
    <p>Тімоті Джон Бе́рнерс-Лі — британський спеціаліст з інформатики, творець HTTP, HTML, URI і автор інших розробок в
        галузі інформаційних технологій, засновник та голова консорціуму W3C, головний розробник Всесвітнього павутиння,
        автор концепції семантичної павутини.</p>
</section>

<section class="slide">
    <h2>Протокол</h2>
    <p>
        Якщо в адресному рядку браузера набрати <a href="https://github.com/vuejs" target="_blank">https://github.com/vuejs</a>
        (Request URL), браузер спочатку розпізнає адресу сервера, пов'язану з ім'ям github.com і спробує відкрити TCP
        з'єднання за 80 портом - порт для HTTP за замовчанням. Якщо сервер існує і приймає з'єднання, браузер відправляє
        запит (request). Далі сервер відповідає (response) за тим самим з'єднанням.
    </p>
    <p>URL - <a
            href="https://uk.wikipedia.org/wiki/%D0%A3%D0%BD%D1%96%D1%84%D1%96%D0%BA%D0%BE%D0%B2%D0%B0%D0%BD%D0%B8%D0%B9_%D0%BB%D0%BE%D0%BA%D0%B0%D1%82%D0%BE%D1%80_%D1%80%D0%B5%D1%81%D1%83%D1%80%D1%81%D1%96%D0%B2">Uniform
        Resource Locator</a></p>
</section>

<section class="slide">
    <h2>Протокол</h2>
    <p>
        Інформація, надіслана клієнтом, називається запитом (request). Він починається з рядка:
    </p>
    <p>На що слід звернути уваги - це спосіб запиту (Request Method). <b>GET</b> означає, що нам потрібно отримати
        певний ресурс. Інші поширені методи – <b>DELETE</b> для видалення, <b>PUT</b> для заміщення та <b>POST</b> для
        надсилання інформації. Зауважте, що сервер не повинен виконувати кожен отриманий запит. Якщо ви оберете
        випадковий сайт і скажете йому <b>DELETE</b> головну сторінку - він, швидше за все, відмовиться.</p>
</section>

<section class="slide">
    <h2>Протокол</h2>
    <p>
        Частина після назви методу – шлях до ресурсу (path), до якого надіслано запит. У найпростішому випадку ресурс –
        просто файл на сервері, але протокол не обмежується цією можливістю. Ресурс може бути будь-чим, що можна
        передати як файл. Багато серверів створюють відповіді на льоту. Наприклад, якщо ви відкриєте
        <a href="https://github.com/karachevtsev" target="_blank">https://github.com/karachevtsev</a>, сервер подивиться
        у базі даних користувача karachevtsev, і якщо знайде – створить сторінку профілю цього користувача. Далі бачимо
        версію HTTP та статус відповіді (<a
            href="https://uk.wikipedia.org/wiki/%D0%A1%D0%BF%D0%B8%D1%81%D0%BE%D0%BA_%D0%BA%D0%BE%D0%B4%D1%96%D0%B2_%D1%81%D1%82%D0%B0%D0%BD%D1%83_HTTP"
            target="_blank">Список кодів стану HTTP</a>)
    </p>
</section>

<section class="slide">
    <h2>Браузер та HTTP</h2>
    <p>
        Браузер відправляє запит, коли ми вводимо URL-адресу в адресний рядок. Коли в отриманому HTML документі
        містяться згадки інших файлів, такі як картинки або файли JavaScript, вони також запитуються з сервера.
    </p>
    <p>Веб-сайт середньої руки може легко містити від 10 до 200 ресурсів. Щоб мати можливість запросити їх швидше,
        браузери роблять кілька запитів одночасно, а не чекають на закінчення запитів одного за іншим. Такі документи
        завжди запитуються через запит GET.</p>
</section>

<section class="slide">
    <h2>Браузер та HTTP</h2>
    <p>
        На сторінках HTML можуть бути форми, які дозволяють користувачам вписувати інформацію та надсилати її на сервер.
    </p>
    <div class="columns two">
        <form method="GET" action="example/message.html">
            <p>Name: <input type="text" name="name"></p>
            <p>Message:<br><textarea name="message"></textarea></p>
            <p>
                <button type="submit">Send</button>
            </p>
        </form>
        <p>При натисканні кнопки «Send» інформація з цих полів буде закодована в рядок запиту (query string). Коли
            атрибут метод елемента дорівнює GET, або коли він взагалі не вказаний, рядок запиту міститься в URL з поля
            action, і браузер робить GET-запит з цим URL.</p>
    </div>
</section>

<section class="slide">
    <h2>Браузер та HTTP</h2>
    <p>
        GET /example/message.html?name=Artem&message=Hello%3F HTTP/1.1
    </p>
    <p>
        Початок рядка запиту позначено знаком питання. Після цього йдуть пари імен та значень, що відповідають атрибуту
        name полів форми та вмісту цих полів. Амперсанд (&) використовується для їхнього розділення.
    </p>
    <p>Деякі символи у рядку запиту потрібно екранувати (escape). JavaScript має функції encodeURIComponent і
        decodeURIComponent для кодування та розкодування.</p>
</section>

<section class="slide">
    <h2>Браузер та HTTP</h2>
    <ul>
        <li>Пробіли в URL-адресі мають бути замінені на спеціальний код %20. Наприклад, якщо ви хочете використати
            пробіл в URL-адресі, ви повинні написати %20.
        </li>
        <li>Спеціальні символи URL, такі як &, ?, =, #, тощо, мають спеціальне значення в URL-адресі. Якщо ви хочете
            використати їх як частину значення параметра або шляху, вони також повинні бути екрановані за допомогою
            кодування URL.
        </li>
        <li>Символи параметрів запиту (наприклад, ?key=value), значення параметрів може містити спеціальні символи або
            пробіли, які потрібно екранувати
        </li>
    </ul>
    <p>Але якщо ви формуєте URL-адресу вручну, вам потрібно буде вручну екранувати спеціальні символи, щоб забезпечити
        правильну обробку запиту сервером.</p>
</section>

<section class="slide">
    <h2>Браузер та HTTP</h2>
    <div class="columns two">
        <form method="POST" action="example/message.html">
            <p>Name: <input type="text" name="name"></p>
            <p>Message:<br><textarea name="message"></textarea></p>
            <p>
                <button type="submit">Send</button>
            </p>
        </form>
        <p>Якщо ми змінимо атрибут method у формі в на POST, запит HTTP з відправкою форми пройде за допомогою методу
            POST, який надішле рядок запиту в тілі запиту замість додавання її до URL.</p>
    </div>
</section>

<section class="slide">
    <h2>Поля</h2>
    <p>Веб-форма складається з будь-якої кількості полів введення, оточених тегом <a
            href="https://developer.mozilla.org/en-US/docs/Learn/Forms/How_to_structure_a_web_form"
            target="_blank">form</a> - спосіб стилістичного та семантичного угруповання елементів форми. HTML пропонує
        багато різних полів, від простих галочок зі значеннями, до списків, що випадають, і полів для введення тексту.
        Коли значення поля змінюється, запускається подія <b>change</b>!!!!
    </p>
    <div class="columns two">
        <div><p><input type="text" value="abc"> (text)</p>
            <p><input type="password" value="abc"> (password)</p>
            <p><input type="checkbox" checked> (checkbox)</p></div>
        <div>
            <p><input type="radio" value="A" name="choice">
                <input type="radio" value="B" name="choice" checked>
                <input type="radio" value="C" name="choice"> (radio)</p>
            <p><input type="file" checked> (file)</p>
            <p><textarea>
                один
                два
                три
                </textarea>
            </p>
        </div>
    </div>
</section>

<section class="slide">
    <h2>Фокус</h2>
    <p>На відміну від більшості елементів документа HTML поля форм можуть отримувати фокус введення клавіатури. При
        натисканні чи виборі в інший спосіб вони стають активними приймачами клавіатурного введення.</p>
    <p>Якщо в документі є текстове поле, то текст, що набирається, з'явиться в ньому, тільки якщо поле має фокус
        введення. Інші поля по-різному реагують на клавіатуру. Наприклад, select намагається перейти на варіант, що
        містить текст, який вводить користувач, а також відповідає на натискання стрілок, пересуваючи вибір варіанта
        вгору та вниз.</p>
    <p>Керувати фокусом з допомогою JavaScript можна методами focus і blur.</p>
</section>

<section class="slide">
    <h2>Фокус</h2>
    <input type="text"> (code in console)
    <script>
        // document.querySelector("input").focus();
        //console.log(document.activeElement.tagName);
        //document.querySelector("input").blur();
        ///console.log(document.activeElement.tagName);
    </script>
    <p>
        На деяких сторінках потрібно, щоб користувач одразу розпочинав роботу з якогось із полів форми. За допомогою
        JavaScript можна передати цьому полю фокус при завантаженні документа, але HTML також має атрибут autofocus,
        який призводить до того ж результату, але повідомляє браузеру про наші наміри. У цьому випадку браузер може
        скасувати цю поведінку у відповідних випадках, наприклад, коли користувач перевів фокус кудись ще.
    </p>
    <input type="text" autofocus>
</section>

<section class="slide">
    <h2>Фокус</h2>
    <p>За традицією браузери дозволяють користувачу переміщувати фокус клавішею Tab. Ми можемо впливати на порядок
        переміщення через атрибут tabindex. У прикладі документ переноситиме фокус із текстового поля на кнопку OK,
        замість того, щоб спочатку пройти через посилання help.</p>
    <p>Press TAB key:
        <input type="text" tabindex=1> <a href=".">(help)</a>
        <button onclick="console.log('ok')" tabindex=2>OK</button>
    </p>
    <p>За замовчуванням більшість типів елементів HTML не отримують фокусування. Але додавши tabindex до елемента, ви
        уможливите отримання ним фокуса.</p>
</section>

<section class="slide">
    <h2>Відключені (disabled) поля</h2>
    <p>Усі поля можна відключити атрибутом disabled, який існує і як властивості елемента об'єкта DOM.</p>
    <p>
        <button>У мене все добре</button>
        <button disabled>Я у disabled</button>
    </p>
    <p>Коли програма знаходиться в процесі обробки натискання на кнопку або інший елемент, який може вимагати
        спілкування з сервером і зайняти тривалий час, непогано відключати елемент до завершення дії. У цьому випадку,
        коли користувач втратить терпіння і натисне елемент ще раз, дія не буде повторена зайвий раз.</p>
</section>

<section class="slide">
    <h2>Фокус</h2>
    <p>За традицією браузери дозволяють користувачу переміщувати фокус клавішею Tab. Ми можемо впливати на порядок
        переміщення через атрибут tabindex. У прикладі документ переноситиме фокус із текстового поля на кнопку OK,
        замість того, щоб спочатку пройти через посилання help.</p>
    <p>Press TAB key:
        <input type="text" tabindex=1> <a href=".">(help)</a>
        <button onclick="console.log('ok')" tabindex=2>OK</button>
    </p>
    <p>За замовчуванням більшість типів елементів HTML не отримують фокусування. Але додавши tabindex до елемента, ви
        уможливите отримання ним фокуса.</p>
</section>

<section class="slide">
    <h2>Форма загалом</h2>
    <p>
        Коли поле міститься в елементі <b>form</b>, у його елемента DOM буде властивість form, яке посилатиметься на
        форму. Елемент <b>form</b>, в свою чергу, має властивість elements, що містить масивоподібну колекцію полів.
    </p>
    <p>Атрибут name поля визначає, як буде визначено значення цього поля при передачі на сервер. Його також можна
        використовувати як ім'я властивості при доступі до властивості форми elements, який працює як об'єкт, схожий на
        масив (з доступом за номерами), так і map (з доступом по імені).</p>
    <a href="../../../examples/forms/1.html" target="_blank">Example</a>
</section>

<section class="slide">
    <h2>Форма загалом</h2>
    <p>
        Кнопка з атрибутом submit при натисканні відправляє форму. Натискання клавіші Enter всередині поля форми має той
        самий ефект.
    </p>
    <p>Відправлення форми зазвичай означає, що браузер переходить на сторінку, позначену в атрибуті форми action,
        використовуючи GET або POST запит. Але перед цим запускається властивість "submit". Його можна обробити в
        JavaScript, і обробник може запобігти стандартній поведінці, викликавши на об'єкті <b>event preventDefault</b>.
    </p>
    <a href="../../../examples/forms/2.html" target="_blank">Example</a>
</section>

<section class="slide">
    <h2>Текстові поля</h2>
    <p>
        Поля з тегами <b>input</b> і типами text та password, а також теги мають спільний інтерфейс. Їх елементи DOM
        мають властивість value, в якому міститься їхній поточний вміст у вигляді рядка тексту.
    </p>
    <p>Властивості текстових полів selectionStart і selectionEnd містять дані про положення курсору та виділення тексту.
        Коли нічого не виділено, їх значення однакове, і дорівнює положенню курсору. Наприклад, 0 означає початок
        тексту, 10 означає, що курсор знаходиться на 10-му символі. Коли виділено частину поля, властивості мають різні
        значення, саме початок і кінець виділеного тексту. У ці поля можна також записувати значення: <a
                href="../../../examples/forms/3.html" target="_blank">Example</a></p>
</section>

<section class="slide">
    <h2>Текстові поля</h2>
    <p>Подія <b>change</b> для текстового поля не спрацьовує щоразу під час введення одного символу. Воно спрацьовує
        після втрати поля фокусу, коли його значення було змінено. Щоб миттєво реагувати на зміну текстового поля,
        потрібно зареєструвати подію <b>input</b>, яка спрацьовує щоразу при введенні символу, видаленні тексту або
        інших маніпуляціях із вмістом поля.</p>
    <p>У наступному <a href="../../../examples/forms/4.html" target="_blank">прикладі</a> ми бачимо текстове поле та
        лічильник, який показує поточну довжину введеного тексту.</p>
</section>

<section class="slide">
    <h2>Checkboxes and radio buttons</h2>
    <p>Поле checkbox – простий бінарний перемикач. Його значення можна отримати або змінити через властивість checked,
        що містить булеву величину: <a href="../../../examples/forms/5.html" target="_blank">Example</a></p>
    <p>Тег <b>label</b> використовується для зв'язку шматка тексту із полем введення. Атрибут for повинен збігатися із
        id поля. Клацніть по мітці label включає поле введення, воно отримує фокус і змінює значення якщо це галочка або
        радіокнопка.</p>
</section>

<section class="slide">
    <h2>Checkboxes and radio buttons</h2>
    <p>radio схожа на checkbox, але вона пов'язана з іншими радіокнопками з тим же ім'ям, так що тільки одна з них може
        бути обрана: <a href="../../../examples/forms/6.html" target="_blank">Example</a></p>
    <p>У прикладі, метод document.getElementsByName видає всі елементи із заданим атрибутом name. Приклад перебирає їх та реєструє обробник подій для кожного елемента. Пам'ятайте, що об'єкти подій мають властивість target, що відноситься до елемента, який запустив подію. Це корисно для створення обробників подій – наш обробник може бути викликаний різними елементами, і він повинен мати спосіб отримати доступ до поточного елемента, який його викликав.</p>
</section>

<section class="slide">
    <h2>Поля select</h2>
    <p>Поля select схожі на радіокнопки – вони також дозволяють вибрати кілька варіантів. Але якщо радіокнопки дозволяють нам контролювати розкладку варіантів, вид поля <b>select</b> визначає браузер: <a href="../../../examples/forms/7.html" target="_blank">Example</a></p>
</section>

<section class="slide">
    <h2>Зберігання даних на стороні клієнта</h2>
    <p>Іноді потрібно зберігати інформацію між сесіями, змінні JavaScript використовувати не вийде – їх значення викидаються щоразу при закритті сторінки. Іноді достатньо зберігати дані у своєму браузері. Але як?</p>
    <p>Можна зберігати рядкові дані так, що вони переживуть перезавантаження сторінок – для цього треба покласти їх в об'єкт localStorage. Він дозволяє зберігати рядкові дані під іменами (які також є рядками), як у цьому прикладі: <a href="../../../examples/forms/8.html" target="_blank">Example</a></p>
</section>

<section class="slide">
    <h2>Підсумок</h2>
    <ul>
        <li>HTML надає безліч різних типів полів форми - текстові, checkboxes, множинного вибору, вибору файлу.</li>

        <li>З JavaScript можна отримувати значення та маніпулювати цими полями. За зміною вони запускають подію "change", з введення з клавіатури - "input", і ще багато різних клавіатурних подій. Вони допомагають нам відловити момент, коли користувач взаємодіє із полем введення. Властивості на зразок value (для текстових полів та select) або checked (для checkbox та radio) використовуються для читання та запису вмісту полів.</li>
    </ul>
</section>

<section class="slide">
    <h2>Підсумок</h2>
    <ul>

        <li>При передачі форми відбувається подія submit. Обробник JavaScript потім може викликати preventDefault цієї події, щоб зупинити передачу даних.

        <li>Об'єкти localStorage та sessionStorage можна використовувати для зберігання інформації таким чином, що переживе перезавантаження сторінки. Перший зберігає дані назавжди (ну або поки користувач спеціально не зітре їх), а другий – до закриття браузера.</li>
    </ul>
</section>

<section class="slide">
    <h2 class="shout">The End</h2>
</section>

<div class="progress"></div>

<script src="../../shower.js"></script>
</body>
</html>